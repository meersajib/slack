{"ast":null,"code":"import _slicedToArray from\"E:\\\\code\\\\slack\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./ChatInput.css';import db from'../firebase';import{useStateValue}from'../StateProvider';import firebase from\"firebase\";function ChatInput(_ref){var channelId=_ref.channelId,channelName=_ref.channelName;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setInput=_useState2[1];var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,1),user=_useStateValue2[0].user;var sendMessage=function sendMessage(e){e.preventDefault();db.collection('rooms').doc(channelId).collection('messages').add({message:input,timestamp:firebase.firestore.FieldValue.serverTimestamp(),user:user.displayName,userImage:user.photoURL});};return/*#__PURE__*/React.createElement(\"div\",{className:\"chatInput\"},/*#__PURE__*/React.createElement(\"form\",null,/*#__PURE__*/React.createElement(\"input\",{value:input,placeholder:\"Message # \".concat(channelName+' '+channelId),onChange:function onChange(e){return setInput(e.target.value);}}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",onClick:sendMessage},\"send\")));}export default ChatInput;","map":{"version":3,"sources":["E:/code/slack/src/Chat/ChatInput.js"],"names":["React","useState","db","useStateValue","firebase","ChatInput","channelId","channelName","input","setInput","user","sendMessage","e","preventDefault","collection","doc","add","message","timestamp","firestore","FieldValue","serverTimestamp","displayName","userImage","photoURL","target","value"],"mappings":"2IAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,MAAO,iBAAP,CACA,MAAOC,CAAAA,EAAP,KAAe,aAAf,CACA,OAASC,aAAT,KAA8B,kBAA9B,CACA,MAAOC,CAAAA,QAAP,KAAqB,UAArB,CAGA,QAASC,CAAAA,SAAT,MAA+C,IAA1BC,CAAAA,SAA0B,MAA1BA,SAA0B,CAAfC,WAAe,MAAfA,WAAe,eACjBN,QAAQ,CAAC,EAAD,CADS,wCACpCO,KADoC,eAC7BC,QAD6B,kCAExBN,aAAa,EAFW,kDAElCO,IAFkC,oBAElCA,IAFkC,CAG3C,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,CAACC,CAAD,CAAO,CACvBA,CAAC,CAACC,cAAF,GAEAX,EAAE,CAACY,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BT,SAA3B,EAAsCQ,UAAtC,CAAiD,UAAjD,EAA6DE,GAA7D,CAAiE,CAC7DC,OAAO,CAAET,KADoD,CAE7DU,SAAS,CAAEd,QAAQ,CAACe,SAAT,CAAmBC,UAAnB,CAA8BC,eAA9B,EAFkD,CAG7DX,IAAI,CAAEA,IAAI,CAACY,WAHkD,CAI7DC,SAAS,CAAEb,IAAI,CAACc,QAJ6C,CAAjE,EAOH,CAVD,CAWA,mBACE,2BAAK,SAAS,CAAC,WAAf,eACE,6CACE,6BACE,KAAK,CAAEhB,KADT,CAEE,WAAW,qBAAeD,WAAW,CAAG,GAAd,CAAoBD,SAAnC,CAFb,CAGE,QAAQ,CAAE,kBAACM,CAAD,QAAOH,CAAAA,QAAQ,CAACG,CAAC,CAACa,MAAF,CAASC,KAAV,CAAf,EAHZ,EADF,cAME,8BAAQ,IAAI,CAAC,QAAb,CAAsB,OAAO,CAAEf,WAA/B,SANF,CADF,CADF,CAcH,CAED,cAAeN,CAAAA,SAAf","sourcesContent":["import React, { useState } from 'react'\r\nimport './ChatInput.css'\r\nimport db from '../firebase'\r\nimport { useStateValue } from '../StateProvider'\r\nimport firebase from \"firebase\"\r\n\r\n\r\nfunction ChatInput({ channelId, channelName }) {\r\n    const [input, setInput] = useState('')\r\n    const [{ user }] = useStateValue()\r\n    const sendMessage = (e) => {\r\n        e.preventDefault()\r\n\r\n        db.collection('rooms').doc(channelId).collection('messages').add({\r\n            message: input,\r\n            timestamp: firebase.firestore.FieldValue.serverTimestamp(),\r\n            user: user.displayName,\r\n            userImage: user.photoURL,\r\n        })\r\n       \r\n    }\r\n    return (\r\n      <div className='chatInput'>\r\n        <form>\r\n          <input\r\n            value={input} \r\n            placeholder={`Message # ${channelName + ' ' + channelId}`}\r\n            onChange={(e) => setInput(e.target.value)}\r\n          />\r\n          <button type='submit' onClick={sendMessage}>\r\n            send\r\n          </button>\r\n        </form>\r\n      </div>\r\n    );\r\n}\r\n\r\nexport default ChatInput\r\n"]},"metadata":{},"sourceType":"module"}